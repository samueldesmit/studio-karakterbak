# Use DecapBridge PKCE auth (required)
backend:
  name: git-gateway
  repo: samueldesmit/studio-karakterbak
  branch: main
  auth_type: pkce
  base_url: https://auth.decapbridge.com
  auth_endpoint: /sites/6b65fb7d-1c4f-4c9e-862f-997f65ef5d50/pkce
  auth_token_endpoint: /sites/6b65fb7d-1c4f-4c9e-862f-997f65ef5d50/token
  gateway_url: https://gateway.decapbridge.com

  # See who did what (optional)
  commit_messages:
    create: Create {{collection}} "{{slug}}" - {{author-name}} <{{author-login}}> via DecapBridge
    update: Update {{collection}} "{{slug}}" - {{author-name}} <{{author-login}}> via DecapBridge
    delete: Delete {{collection}} "{{slug}}" - {{author-name}} <{{author-login}}> via DecapBridge
    uploadMedia: Upload "{{path}}" - {{author-name}} <{{author-login}}> via DecapBridge
    deleteMedia: Delete "{{path}}" - {{author-name}} <{{author-login}}> via DecapBridge
    openAuthoring: Message {{message}} - {{author-name}} <{{author-login}}> via DecapBridge

# Enable PKCE fields (optional, recommended)
auth:
  email_claim: email
  first_name_claim: first_name
  last_name_claim: last_name
  avatar_url_claim: avatar_url

# Better Decap + Bridge logo (optional)
logo_url: https://decapbridge.com/decapcms-with-bridge.svg

# Add site links in Decap CMS (optional)
site_url: https://studio-karakterbak.nl

# Media files configuration
media_folder: "public/uploads"
public_folder: "/uploads"

# Collections
collections:
  # Portfolio Projects
  - name: "projects"
    label: "Portfolio Projects"
    folder: "content/projects"
    create: true
    slug: "{{slug}}"
    extension: "json"
    format: "json"
    fields:
      - {
          label: "ID",
          name: "id",
          widget: "string",
          hint: "Unique identifier (lowercase, no spaces, use dashes)",
        }
      - { label: "Artist Name", name: "artist", widget: "string" }
      - { label: "Title", name: "title", widget: "string" }
      - {
          label: "Year",
          name: "year",
          widget: "number",
          value_type: "int",
          min: 2000,
          max: 2030,
        }
      - label: "Services"
        name: "services"
        widget: "select"
        multiple: true
        options:
          - { label: "Production", value: "Production" }
          - { label: "Mixing", value: "Mixing" }
          - { label: "Mastering", value: "Mastering" }
          - { label: "Drums", value: "Drums" }
      - { label: "Image", name: "image", widget: "image" }
      - {
          label: "Spotify Embed URL",
          name: "spotifyEmbed",
          widget: "string",
          hint: "e.g., https://open.spotify.com/embed/artist/...",
        }
      - {
          label: "Featured",
          name: "featured",
          widget: "boolean",
          default: false,
          required: false,
        }
      - {
          label: "Order",
          name: "order",
          widget: "number",
          value_type: "int",
          default: 0,
          required: false,
          hint: "Lower numbers appear first",
        }

  # Site Settings
  - name: "settings"
    label: "Site Settings"
    files:
      - label: "Contact Info"
        name: "contact"
        file: "content/settings/contact.json"
        fields:
          - {
              label: "Page Title",
              name: "title",
              widget: "string",
              default: "Get in Touch",
            }
          - { label: "Intro Text", name: "introText", widget: "text" }
          - { label: "Email", name: "email", widget: "string", required: false }
          - { label: "Phone", name: "phone", widget: "string", required: false }
          - {
              label: "Address",
              name: "address",
              widget: "text",
              required: false,
            }

      - label: "Studio Info"
        name: "studio"
        file: "content/settings/studio.json"
        fields:
          - {
              label: "About Title",
              name: "title",
              widget: "string",
              default: "The Studio",
            }
          - {
              label: "About Text",
              name: "aboutText",
              widget: "markdown",
              required: false,
            }
